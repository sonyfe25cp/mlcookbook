##特征

特征指的是一堆变量，我们用这堆变量来训练模型。每一行数据都包含若干信息，我们需要将他们抽象成为一个训练样本。几乎所有的机器学习模型都在数值表示的向量上进行训练，于是我们需要将原始数据转化为数字。

特征可以分为以下几类：

* 数值特征：这类特征通常是实数或者浮点数。例如，用户的年龄。
* 分类特征：这类特征指的是变量需要从一组已给定的状态中选择一个。例如，用户的性别或者颜色分类。
* 文本特征：这些特征是从数据中抽取的文本内容。例如，电影标题、描述、评论。
* 其他特征：大多数其他的特征都是用数值表示。例如，图像、视频、音频也可以表示成一堆数字。地理位置信息也可以表示成为经纬度。

下面对其中不太好理解的特征进行详细说明：

###分类特征

分类特征是不能直接作为输入使用的特征，因为它们不是数字。但是，它们也是有意义的，因为变量还是需要从中取值的。例如，性别。

于是，分类特征就成了一种用数字标示原有分类的特征。如果分类之间不具有可比性，例如颜色，那么就叫做nominal变量；如果分类之间具有可比性，如1 star和5 star，就叫做ordinal变量。

通常的表示方法，就是1-of-k的方式。也就是将不同分类分别给定一个数字即可。

对于时间戳，也通常表示成分类特征，如：7 a.m -- 9 a.m => morning

###派生特征

有时候从一个或者多个特征中再计算出个别的特征也是很有用的。这类特征就叫做派生特征。

例如，我们可以计算每个用户给所有电影的平均打分。这是一个user-specific理解的特征，因为它可以表示用户的打分态度。

类似的派生特征还有中位数、协方差、最大值、最小值等。这些特征通常可以使得模型训练的更好。


###文本特征

通常来说，文本特征会被转换为分类特征或者是派生特征。

在自然语言处理领域中，对于文本的处理方法有很多，但是常用且好用的表示方法还是bag-of-words。

####bag-of-words

词袋表示方法将一段文字看做是词语的组合，处理方法依次是：

* 分词：首先，成段的文字要分词，也就是将句子进行切割。英语中通常用空格切分，而中文则需要按照词语进行切分。
* 去除停词：把非常常见的词进行去除，避免影响向量表示。如：the, a, an等。
* 词干化：对于英语来说，单词的词形变化有很多，需要进行词干化。例如，将doing恢复成do。
* 向量化：最后一步就是将句子进行向量化表示。简单的办法就是0-1向量表示，将整个上下文中出现的所有词进行编码，然后将句子中出现的词标1，实现1-of-k的表示方式。然而，可能词典中会出现几百万个词，而句子中只有很少的词，那就需要一定的稀疏表示方法了。

##正则化向量

当向量被抽取出之后，最常用的一个操作就是向量正则化。正则化的目的是为了将数值统一刻度。可以使用不同的正则化方法，如下：

* 正则化一个特征：只是对一列特征进行正则化。例如，全部减掉该特征的平均数或者进行正态分布变化。
* 正则化一个特征向量：这通常是对所有实例进行的操作，如进行L1或者L2范数的正则化。


##其他工具包中的实现

MLlib中提供了StandardScaler和Normalizer进行正则化。

由于Spark支持Java、Scala和Python，可以直接使用这些语言中已有的第三方库。

* Java：OpenNLP
* Python：scikit-learn，gensim，scikit-image，matplotlib和NLTK
* Scala：Breeze和Chalk

